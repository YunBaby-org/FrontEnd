{"version":3,"sources":["webpack:///./src/views/map/index.vue?aee1","webpack:///./src/views/map/index.vue?e59a","webpack:///./src/apis/phone.js","webpack:///./src/utils/stompclient.js","webpack:///src/views/map/index.vue","webpack:///./src/views/map/index.vue?5cbc","webpack:///./src/views/map/index.vue","webpack:///./src/apis/boundary.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","on","SelectChange","model","value","callback","$$v","select_value","expression","_l","m","index","key","AutoReport","auto_report","PowerSave","power_mode","$event","SendRequest","_s","target_power","_e","StartTracking","ref","map_default_center","mapTypeControl","target","MarkerEvent","info_window","InfoWindowClose","lat","lng","fillColor","fillOpacity","strokeColor","strokeOpacity","current_boundary","boundary_radius","staticRenderFns","SendToPhone","data","config","url","method","request","location","hostname","on_connect","console","log","on_error","CreateStompClient","client","webstomp","over","WebSocket","connect","process","component","GetBoundaryPosition","tracker_id","api_url","params","tracker","UpdateBoundaryPosition"],"mappings":"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","file":"js/chunk-c6379796.f6715c6a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f959f0ac&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f959f0ac&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"color-mark\",staticStyle:{\"width\":\"100%\"}},[_c('el-row',[_c('div',{staticStyle:{\"width\":\"15px\",\"height\":\"15px\",\"background-color\":\"#FF6666\",\"display\":\"inline-block\",\"margin-right\":\"10px\"}}),_vm._v(\"電子圍籬範圍 \"),_c('div',{staticStyle:{\"width\":\"15px\",\"height\":\"15px\",\"background-color\":\"#B266FF\",\"display\":\"inline-block\",\"margin-right\":\"10px\"}}),_vm._v(\"目標誤差半徑 \")])],1),_c('el-select',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"10px\"},attrs:{\"placeholder\":\"目標\"},on:{\"change\":_vm.SelectChange},model:{value:(_vm.select_value),callback:function ($$v) {_vm.select_value=$$v},expression:\"select_value\"}},_vm._l((_vm.tracker_list),function(m,index){return _c('el-option',{key:index,attrs:{\"label\":m,\"value\":m}})}),1),_c('transition',{attrs:{\"appear\":\"\",\"enter-active-class\":\"animate__animated animate__fadeInTopLeft\",\"mode\":\"out-in\"}},[(_vm.function_enable)?_c('div',[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"type\":\"flex\"}},[_c('el-col',[_c('el-switch',{staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"inactive-text\":\"自動回報\"},on:{\"change\":_vm.AutoReport},model:{value:(_vm.auto_report),callback:function ($$v) {_vm.auto_report=$$v},expression:\"auto_report\"}})],1),_c('el-col',[_c('el-switch',{staticStyle:{\"display\":\"block\"},attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"inactive-text\":\"省電模式\"},on:{\"change\":_vm.PowerSave},model:{value:(_vm.power_mode),callback:function ($$v) {_vm.power_mode=$$v},expression:\"power_mode\"}})],1)],1),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.SendRequest(\"GetPowerStatus\")}}},[_vm._v(\"目標手機電力 \"+_vm._s(_vm.target_power)+\"%\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.SendRequest(\"ScanWifiSignal\")}}},[_vm._v(\"啟用wifi定位\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.SendRequest(\"ScanGPS\")}}},[_vm._v(\"啟用GPS定位\")])],1)],1):_vm._e()]),_c('el-row',[_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"10px\",\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.StartTracking}},[_vm._v(\"開啟追蹤\")])],1),_c('GmapMap',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"700px\"},attrs:{\"center\":_vm.map_default_center,\"zoom\":18,\"map-type-id\":\"terrain\",\"options\":{mapTypeControl:false}}},[(_vm.marker_loading)?_c('div',[_c('GmapMarker',{attrs:{\"position\":_vm.target},on:{\"click\":_vm.MarkerEvent}}),_c('GmapInfoWindow',{attrs:{\"opened\":_vm.info_window,\"position\":_vm.target},on:{\"closeclick\":_vm.InfoWindowClose}},[_vm._v(\" lat: \"+_vm._s(_vm.target.lat)+\" lng: \"+_vm._s(_vm.target.lng)+\" \")]),_c('GmapCircle',{attrs:{\"options\":{fillColor:'#ff0000',fillOpacity:0.4,strokeColor:'#ff0000',strokeOpacity:0.4},\"center\":_vm.current_boundary,\"radius\":_vm.boundary_radius}})],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../utils/request'\n\nexport function SendToPhone(data){\n    /*\n        data\n        {\n            Request:\"GetPowerStatus\",\n            Payload:{\n                \"Enable\":true\n            }\n        }\n    */\n    let config = {\n        url:'/api/v1/action/send-request',\n        method:'POST',\n        data\n    }\n\n    return request(config)\n}","import webstomp from 'webstomp-client'\n//const url = 'ws://localhost:15674/ws'\nconst url = 'ws://'+location.hostname+':15674/ws'\nfunction on_connect(){\n    console.log('on connect')\n}\nfunction on_error(){\n    console.log('on error')\n}\nexport function CreateStompClient(){\n    let client = webstomp.over(new WebSocket(url))\n    client.connect(process.env.VUE_APP_AMQP_USER,process.env.VUE_APP_AMQP_PASSWORD,on_connect,on_error)\n    return client\n}","<template>\n  <div class=\"app-container\" style=\"height:100%\" >\n    <div class=\"color-mark\" style=\"width:100%\">\n      <el-row >\n        <div style=\"width:15px; height:15px; background-color: #FF6666;display: inline-block; margin-right:10px;\" ></div>電子圍籬範圍 \n\n        <div style=\"width:15px; height:15px; background-color: #B266FF;display: inline-block; margin-right:10px;\" ></div>目標誤差半徑\n      </el-row>\n\n    </div>\n\n\n    <el-select placeholder=\"目標\" v-model=\"select_value\" @change=\"SelectChange\" style=\"width:100%; margin-bottom:10px;\">\n      <el-option\n        v-for=\"(m,index) in tracker_list\"\n        :label=\"m\"\n        :value=\"m\"\n        :key=\"index\">\n      </el-option>\n    </el-select>\n\n\n      <transition appear enter-active-class=\"animate__animated animate__fadeInTopLeft\"  mode=\"out-in\">\n        <div v-if=\"function_enable\">\n          <el-row type=\"flex\" style=\"margin-bottom:10px;\">\n            <el-col>\n            <el-switch\n                @change=\"AutoReport\"\n                style=\"display: block\"\n                v-model=\"auto_report\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                inactive-text=\"自動回報\">\n              </el-switch>\n            </el-col>\n            <el-col>\n              <el-switch\n                @change=\"PowerSave\"\n                style=\"display: block\"\n                v-model=\"power_mode\"\n                active-color=\"#13ce66\"\n                inactive-color=\"#ff4949\"\n                inactive-text=\"省電模式\">\n              </el-switch>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-button @click='SendRequest(\"GetPowerStatus\")' type=\"primary\" >目標手機電力 {{target_power}}%</el-button>\n            <el-button @click='SendRequest(\"ScanWifiSignal\")' type=\"primary\" >啟用wifi定位</el-button>\n            <el-button @click='SendRequest(\"ScanGPS\")' type=\"primary\" >啟用GPS定位</el-button>\n          </el-row>\n\n        </div>\n      </transition>\n\n\n    <el-row>\n      <el-button type=\"primary\" style=\"width:100%; margin-bottom:10px;margin-top:10px;\" @click=\"StartTracking\">開啟追蹤</el-button>\n    </el-row>\n  \n    <GmapMap\n      ref=\"map\"\n      :center=\"map_default_center\"\n      :zoom=\"18\"\n      map-type-id=\"terrain\"\n      style=\"width: 100%; height:700px\"\n      :options=\"{mapTypeControl:false}\">\n      <div v-if=\"marker_loading\">\n        <GmapMarker\n          @click=\"MarkerEvent\"\n          :position=\"target\">\n\n        </GmapMarker>\n        <GmapInfoWindow\n          :opened=\"info_window\"\n          @closeclick=\"InfoWindowClose\"\n          :position=\"target\">\n          lat: {{target.lat}} lng: {{target.lng}}\n        </GmapInfoWindow>\n\n\n\n        <!-- boundary circle -->\n        <GmapCircle \n          :options=\"{fillColor:'#ff0000',fillOpacity:0.4,strokeColor:'#ff0000',strokeOpacity:0.4}\"\n          :center=\"current_boundary\"\n          :radius=\"boundary_radius\">\n        </GmapCircle>\n\n        <!-- <GmapPolyline \n            :path=\"roads\"\n            v-bind:options=\"{ \n              strokeColor:'#00ff00',\n              strokeWeight:8,\n              strokeOpacity:0.8,\n              icons:[{\n                icon:{\n                  path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\n                  fillColor: '#22bf15',\n                  strokeColor: '#22bf15',\n                  scale:4,\n                  fillOpacity:1\n                  },\n                  \n                }]\n              }\">\n        </GmapPolyline> -->\n      </div>\n\n    </GmapMap>\n  </div>\n</template>\n  \n\n\n\n<script>\n  //import GmapCustomMarker from 'vue2-gmap-custom-marker';\n  import {gmapApi} from 'vue2-google-maps'\n  //import {GetAllMarkers} from '@/apis/map.js'\n  import {GetBoundaryPosition} from '@/apis/boundary.js'\n  import {SendToPhone} from '@/apis/phone.js'\n  import {CreateStompClient} from '@/utils/stompclient.js'\n\n  export default {\n    computed:{\n      google:gmapApi,\n      CurrentMarker:function(){\n        return this.markers[this.select_value]\n      },\n      /* get trakcer list */\n      tracker_list:function(){\n        return this.$store.getters.trackerList\n      },\n      tracker_map:function(){\n        return this.$store.getters.trackerMap\n      },\n      /*  get current tracker */ \n      tracker:function(){\n        return this.$store.getters.trackersInfo[this.select_value] \n      }\n    },\n    data() {\n      return {\n        map_default_center:{lat:23.696413,lng:120.532343},\n        info_window:false,\n        select_value:'請選擇目標',\n        target:{lat:0,lng:0},\n        target_power:0,//target's phone power %\n        current_boundary:{lat:0,lng:0},\n        boundary_radius:0,\n\n        stomp_client:null,//stomp connection \n        subscribe_id:null,//stomp current subscription's id\n\n        markers:null,\n        marker_loading:false,\n        function_enable:false,\n        roads:[],\n\n        auto_report:true,//自動回報開關\n        power_mode:false,//省電模式開關\n      }\n    },\n    methods:{\n      AutoReport:function(){\n        let data = {\n          \"Request\":\"SetAutoReport\",\n          \"Payload\": { \"Enable\": this.auto_report },\n          \"tracker_name\":this.select_value\n        }\n        SendToPhone(data)\n        \n      },\n      PowerSave:function(){\n        //call rest , and then rest publish \"PowerSave\" to rabbitmq\n        let data = {\n          \"Request\":\"SetPowerSaving\",\n          \"Payload\":{ \"Enable\":this.power_mode},\n          \"tracker_name\":this.select_value  \n        }\n        SendToPhone(data)\n      },\n      /* 傳送命令------->Rest---------->手機 */\n      SendRequest:function(action){\n        let data = {\n          \"Request\":action,\n          \"tracker_name\":this.select_value\n        }\n        SendToPhone(data)\n      },\n      /*  marker click event  */\n      MarkerEvent:function(){\n        this.info_window = true\n      },\n\n      /*  select event  */\n      SelectChange:function(){\n        this.marker_loading = true\n        this.function_enable = true\n        console.log('selection change')\n\n        /*  每次切換追蹤目標時 取消訂閱上個追蹤者 */\n        if(this.stomp_client&&this.subscribe_id){\n          this.stomp_client.unsubscribe(this.subscribe_id)\n          this.target.lat = 0\n          this.target.lat = 0\n          this.map_default_center.lat = 23.696413\n          this.map_default_center.lng = 120.532343\n        }\n\n\n        /*  function parms is trakcer id */\n        GetBoundaryPosition(this.tracker_map[this.select_value]).then(res=>{\n          this.current_boundary = {lat:parseFloat(res.data.boundary.lat),lng:parseFloat(res.data.boundary.lng)}\n          this.boundary_radius = res.data.boundary.radius\n        })\n      },\n\n      \n      InfoWindowClose:function(){\n        /*  marker infowindow close event */\n        this.info_window = false\n      },\n\n      StartTracking:function(){\n        /*subscribe tracker-event(exchange)*/\n        console.log(this.stomp_client)\n        let destination = `/exchange/tracker-event/tracker.${this.select_value}.notification.respond`\n        let retv = this.stomp_client.subscribe(destination,this.on_message)\n        this.subscribe_id = retv.id \n        console.log('subscribe id is ',this.subscribe_id)\n \n      },\n\n      /*  stomp on_message callback */\n      on_message:function(msg){\n        console.log('message is '+msg.body)\n        let retv = JSON.parse(msg.body)\n\n        switch (retv.Response){\n          case 'GetPowerStatus':\n            console.log('GetPowerStatus Response')\n            this.target_power = retv.Result.CapacityLevel\n            break \n          case 'GetDeviceStatus':\n            console.log('GetDeviceStatus Response')\n            break;\n          case 'GetVersion':\n            console.log('GetVersion Response')\n            break;\n          case 'ScanGPS':\n            console.log('ScanGPS Response')\n            this.target.lat = retv.Result.Latitude\n            this.target.lng = retv.Result.Longitude\n            this.map_default_center.lat = retv.Result.Latitude\n            this.map_default_center.lng = retv.Result.Longitude\n            break;\n          case 'ScanWifiSignal':\n            console.log('ScanWifiSignal Response')\n            break;\n        }\n      },\n\n    },\n    created(){\n\n      /*  get all trackers and store it in Vuex */\n\n      /*  create stomp connection */ \n      this.stomp_client = CreateStompClient()\n    }\n  }\n</script>\n<style scoped>\n  .mymap{\n    width: 85%;\n    height: 700px;\n  }\n  .color-mark{\n    width: 30%;\n    margin-bottom: 15px;\n    \n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f959f0ac&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f959f0ac&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f959f0ac\",\n  null\n  \n)\n\nexport default component.exports","import request from '../utils/request'\n\n\n\nexport function GetBoundaryPosition(tracker_id){\n    let api_url = '/api/v1/resources/users/boundary'\n    let config = {\n        url:api_url,\n        method:'GET',\n        params:{\n            tracker:tracker_id\n        }\n    }\n\n    return request(config)\n}\n\nexport function UpdateBoundaryPosition(tracker_id,data){\n    let api_url = '/api/v1/resources/users/boundary'\n    let config = {\n        url:api_url,\n        method:'PUT',\n        params:{\n            tracker:tracker_id\n        },\n        data\n    }\n\n    return request(config)\n}"],"sourceRoot":""}